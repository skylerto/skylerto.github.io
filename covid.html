---
layout: geojson
title: Covid
---

<div class="home">
	<h1>COVID-19 Map</h1>
	<div id="map"></div>
	<script>
		var map = L.map('map').setView([43.9090893,-79.8427506], 10.23);
		function onEachFeature(feature, layer) {
			// does this feature have a property named popupContent?
			if (feature.properties) {
				data = '<ul>'
				for (var property in feature.properties) {
					data = data + '<li>' + property + ':' + feature.properties[property] + '</li>'
				}
				data = data + '</ul>'
				layer.bindPopup(data);
			}
		}
		L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
				'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			id: 'mapbox/streets-v11',
			tileSize: 512,
			zoomOffset: -1
    }).addTo(map);

		var data = {{site.data.conposcovidloc | jsonify}};
		L.geoJSON(data, {
			onEachFeature: onEachFeature
		}).addTo(map);
	</script>
</div>
